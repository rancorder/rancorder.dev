<!--
title: このブログの設計思想と使えるすべての機能
date: 2026-02-17
category: 開発
excerpt: React化されたこのブログは何ができて、なぜ壊れにくいのか。設計思想から全インタラクティブ機能まで、仕様準拠で完全解説する。
readingTime: 12 min read
tags: React, Next.js, ブログ設計, アーキテクチャ
-->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>このブログの設計思想と使えるすべての機能</title>
</head>
<body>

<!-- =====================================================
     0. このファイルの位置づけ
     ===================================================== -->

<fade-in delay="0">
  <h1>このブログの設計思想と使えるすべての機能</h1>

  <p>
    この記事は単なる「機能紹介」ではない。
    このブログシステムにおいて、
    <strong>HTMLをどう書けば壊れずに、Reactとして正しく振る舞うか</strong>
    を示すための基準実装である。
  </p>

  <p>
    もしこの記事が壊れるなら、
    それはブログシステム側のバグである。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     1. なぜReact化したのか
     ===================================================== -->

<fade-in delay="0.1">
  <h2>なぜReact化したのか</h2>

  <p>
    記事はもともと HTML ファイルで管理していた。
    それ自体は今も変わらない。
  </p>

  <p>
    変えたのは、
    <strong>その HTML を誰が、いつ、どう解釈するか</strong>
    という点だけだ。
  </p>

  <p>
    以前は Web Components に解釈させていた。
    だがこの方式には、致命的な欠点があった。
  </p>

  <callout-box type="warning" title="以前の構成で起きていた問題">
    <p>
      ・ページ遷移後にアニメーションが再実行されない<br />
      ・カスタムタグが未定義のまま描画されることがある<br />
      ・JavaScript の読み込み順に強く依存する
    </p>
  </callout-box>

  <p>
    問題の本質は、
    <strong>DOM のライフサイクルをブラウザ任せにしていたこと</strong>
    だった。
  </p>

  <p>
    React 化によって、
    HTML は「構造を表す入力」になり、
    振る舞いは React Component が完全に管理するようになった。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     2. このシステムの前提思想
     ===================================================== -->

<fade-in delay="0.2">
  <h2>このシステムの前提思想</h2>

  <p>
    このブログは CMS ではない。
    Markdown 変換エンジンでもない。
  </p>

  <p>
    正確に言うなら、
    <strong>HTML を入力言語として使う React AST ジェネレータ</strong>
    である。
  </p>

  <comparison-card
    title="考え方の違い"
    good="HTML は React を組み立てるための DSL"
    bad="HTML はそのまま表示される完成物"
  />

  <p>
    この前提を理解しているかどうかで、
    書き方は大きく変わる。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     3. レンダリングの流れ
     ===================================================== -->

<fade-in delay="0.3">
  <h2>レンダリングの流れ</h2>

  <p>
    記事は次の手順で表示される。
  </p>

  <code-block language="text">
HTMLファイル
  ↓（文字列）
BlogRenderer（Server Component）
  ↓ cheerio
DOMツリー
  ↓ 再帰変換
React Element Tree
  ↓
静的HTMLとして配信
  ↓
Client Component だけが Hydration
  </code-block>

  <p>
    重要なのは、
    <strong>cheerio も BlogRenderer もクライアントには存在しない</strong>
    という点だ。
  </p>

  <p>
    クライアント側で動くのは、
    FadeIn / CodeBlock / AccordionItem など、
    明示的に Client Component とされたものだけである。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     4. アニメーション系：fade-in
     ===================================================== -->

<fade-in delay="0.4">
  <h2>fade-in — スクロールフェードイン</h2>

  <p>
    <code>&lt;fade-in&gt;</code> は、
    スクロールで要素が画面に入った瞬間に
    ふわっと表示させるためのコンポーネントだ。
  </p>

  <p>
    HTML 的にはタグだが、
    React 的には <code>&lt;FadeIn /&gt;</code> コンポーネントそのもの。
  </p>

  <callout-box type="info" title="重要な仕様">
    <p>
      delay は「秒」で指定する。<br />
      <code>delay="0.2"</code> のように書く。
    </p>
  </callout-box>

  <code-block language="html">
&lt;fade-in delay="0.2"&gt;
  &lt;p&gt;スクロールで表示される&lt;/p&gt;
&lt;/fade-in&gt;
  </code-block>

  <p>
    この delay がミリ秒だと誤解されやすいが、
    仕様違反は静かに動作を殺す。
    エラーは出ない。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     5. 情報強調：callout-box
     ===================================================== -->

<fade-in delay="0.5">
  <h2>callout-box — 情報ボックス</h2>

  <p>
    callout-box は Server Component であり、
    状態を持たない。
  </p>

  <p>
    そのため、
    中にどんな HTML / カスタムタグを入れても安全だ。
  </p>

  <callout-box type="success" title="設計上の利点">
    <p>
      情報構造を壊さずに、
      視覚的な強調だけを与えられる。
    </p>
  </callout-box>
</fade-in>

<hr />

<!-- =====================================================
     6. 折りたたみ：accordion-item
     ===================================================== -->

<fade-in delay="0.6">
  <h2>accordion-item — 折りたたみ</h2>

  <p>
    accordion-item は Client Component であり、
    状態を内部に持つ。
  </p>

  <p>
    そのため、
    再マウントされることが前提設計になっている。
  </p>

  <accordion-item title="なぜ壊れにくいのか">
    <p>
      クライアント遷移時も、
      React が正しく同一コンポーネントとして認識できる構造を
      HTML 側が守っているからだ。
    </p>
  </accordion-item>
</fade-in>

<hr />

<!-- =====================================================
     7. コード表示：code-block
     ===================================================== -->

<fade-in delay="0.7">
  <h2>code-block — コードブロック</h2>

  <p>
    code-block は Client Component で、
    コピー機能を持つ。
  </p>

  <p>
    HTML 内に script を書く必要はない。
  </p>

  <code-block language="bash">
npm run dev
npm run build
  </code-block>
</fade-in>

<hr />

<!-- =====================================================
     8. チェックリスト：interactive-checklist
     ===================================================== -->

<fade-in delay="0.8">
  <h2>interactive-checklist — 実行可能チェックリスト</h2>

  <p>
    このコンポーネントは、
    <strong>&lt;li&gt; を直下に置く</strong>
    という厳密な前提を持つ。
  </p>

  <interactive-checklist>
    <li>frontmatter が設定されている</li>
    <li>ファイル名が YYYY-MM-DD-slug.html</li>
    <li>カスタムタグの閉じ忘れがない</li>
    <li>npm run dev で確認した</li>
    <li>npm run build が通った</li>
  </interactive-checklist>
</fade-in>

<hr />

<!-- =====================================================
     9. 比較表現：comparison-card
     ===================================================== -->

<fade-in delay="0.9">
  <h2>comparison-card — 判断の可視化</h2>

  <comparison-card
    title="記事管理方法"
    good="HTMLファイルを直接管理"
    bad="CMSに依存"
  />

  <p>
    判断を文章ではなく構造で伝えられるのが強みだ。
  </p>
</fade-in>

<hr />

<!-- =====================================================
     10. 進捗可視化：progress-bar
     ===================================================== -->

<fade-in delay="1.0">
  <h2>progress-bar — 数値の視覚化</h2>

  <progress-bar value="95" max="100" label="SEO目標" />
  <progress-bar value="90" max="100" label="Performance目標" />
</fade-in>

<hr />

<!-- =====================================================
     11. まとめ
     ===================================================== -->

<fade-in delay="1.1">
  <h2>まとめ</h2>

  <p>
    このブログシステムは、
    HTML を書く体験を変えずに、
    React のライフサイクル管理と
    静的生成の恩恵を最大限に引き出すための設計になっている。
  </p>

  <callout-box type="success" title="一言で言うと">
    <p>
      書くのは自由だが、構造は厳密。
      だから壊れない。
    </p>
  </callout-box>
</fade-in>

</body>
</html>
